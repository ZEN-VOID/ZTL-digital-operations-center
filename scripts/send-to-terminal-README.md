# ç»ˆç«¯å‘½ä»¤å‘é€è„šæœ¬ä½¿ç”¨æŒ‡å—

## ðŸ“ è„šæœ¬è¯´æ˜Ž

`send-to-terminal.sh` æ˜¯ä¸€ä¸ªé€šç”¨çš„ç»ˆç«¯å‘½ä»¤å‘é€è„šæœ¬ï¼Œå¯ä»¥ä»Ž Claude Code æˆ–ä»»ä½•åœ°æ–¹å‘æ´»åŠ¨ç»ˆç«¯å‘é€å‘½ä»¤ã€‚

## âœ¨ ç‰¹æ€§

- âœ… **æ™ºèƒ½ç»ˆç«¯æ£€æµ‹**: è‡ªåŠ¨ä¼˜å…ˆä½¿ç”¨ iTerm2ï¼Œé™çº§åˆ° Terminal.app
- âœ… **è‡ªåŠ¨çª—å£ç®¡ç†**: å¦‚æžœæ²¡æœ‰æ‰“å¼€çš„çª—å£ï¼Œè‡ªåŠ¨åˆ›å»ºæ–°çª—å£
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯æç¤ºå’Œé™çº§æœºåˆ¶
- âœ… **è·¨å¹³å°å…¼å®¹**: æ”¯æŒ macOS çš„ä¸¤å¤§ç»ˆç«¯åº”ç”¨

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ç”¨æ³•

```bash
./scripts/send-to-terminal.sh "å‘½ä»¤å†…å®¹"
```

### ç¤ºä¾‹

```bash
# 1. ç®€å•å‘½ä»¤
./scripts/send-to-terminal.sh "echo 'Hello World'"

# 2. ç›®å½•æ“ä½œ
./scripts/send-to-terminal.sh "cd /path/to/dir && ls -la"

# 3. å¤šå‘½ä»¤ç»„åˆ
./scripts/send-to-terminal.sh "git status && git pull"

# 4. Python è„šæœ¬æ‰§è¡Œ
./scripts/send-to-terminal.sh "python scripts/my_script.py"
```

## ðŸ”§ ä¸Ž Claude Code é›†æˆ

### åœ¨ Slash Commands ä¸­ä½¿ç”¨

åœ¨ `.claude/commands/your-command.md` ä¸­:

```markdown
---
description: æ‰§è¡ŒæŸä¸ªä»»åŠ¡
---

!./scripts/send-to-terminal.sh "npm test"

ä»»åŠ¡å·²å‘é€åˆ°ç»ˆç«¯æ‰§è¡Œ!
```

### åœ¨ Bash å·¥å…·ä¸­ä½¿ç”¨

```bash
# Claude Code å¯ä»¥ç›´æŽ¥è°ƒç”¨
Bash(command="./scripts/send-to-terminal.sh 'npm start'")
```

## ðŸŽ¯ å·¥ä½œåŽŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    send-to-terminal.sh              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  æ£€æµ‹ iTerm2?   â”‚
         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
              â”‚        â”‚
          YES â”‚        â”‚ NO
              â–¼        â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ iTerm2  â”‚  â”‚ Terminal.app â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚        â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                   â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ å‘½ä»¤å·²å‘é€åˆ°ç»ˆç«¯ â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ“Š ç»ˆç«¯ä¼˜å…ˆçº§

1. **iTerm2** (é¦–é€‰)
   - åŠŸèƒ½æ›´å¼ºå¤§
   - æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
   - è‡ªåŠ¨åˆ›å»ºçª—å£

2. **Terminal.app** (é™çº§æ–¹æ¡ˆ)
   - ç³»ç»Ÿè‡ªå¸¦
   - å§‹ç»ˆå¯ç”¨
   - è‡ªåŠ¨åˆ›å»ºçª—å£

## ðŸŽ¯ é«˜çº§åŠŸèƒ½: å‘½ä»¤è¾“å‡ºæ•èŽ·

### send-and-capture.sh

**åŠŸèƒ½**: å‘é€å‘½ä»¤åˆ°iTermå¹¶æ•èŽ·å…¶è¾“å‡ºç»“æžœ

**è§£å†³é—®é¢˜**: Claudeæ— æ³•ç›´æŽ¥çœ‹åˆ°iTermç»ˆç«¯çš„è¾“å‡ºå†…å®¹ï¼Œé€šè¿‡æ–‡ä»¶é‡å®šå‘æœºåˆ¶è§£å†³

**ä½¿ç”¨æ–¹æ³•**:

```bash
./scripts/send-and-capture.sh "å‘½ä»¤" [è¶…æ—¶ç§’æ•°]
```

**å·¥ä½œåŽŸç†**:
```
1. å‘é€å‘½ä»¤åˆ°iTerm (å¸¦æ–‡ä»¶é‡å®šå‘: command > file 2>&1)
2. ç­‰å¾…æŒ‡å®šæ—¶é—´ï¼ˆé»˜è®¤3ç§’ï¼‰
3. è¯»å–è¾“å‡ºæ–‡ä»¶å†…å®¹
4. æ˜¾ç¤ºç»“æžœ
5. æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

**ä½¿ç”¨ç¤ºä¾‹**:

```bash
# æ•èŽ·ç›®å½•åˆ—è¡¨
./scripts/send-and-capture.sh "ls -la"

# æ•èŽ·GitçŠ¶æ€
./scripts/send-and-capture.sh "git status"

# æ•èŽ·å¤æ‚å‘½ä»¤ (5ç§’è¶…æ—¶)
./scripts/send-and-capture.sh "cd /path/to/dir && git status --short" 5

# æ•èŽ·å‘½ä»¤è¾“å‡ºç”¨äºŽåˆ†æž
./scripts/send-and-capture.sh "npm test" 10
```

**è¾“å‡ºæ ¼å¼**:

```
âœ… å‘½ä»¤å·²å‘é€åˆ° iTerm: ls -la
â³ ç­‰å¾… 3 ç§’...

ðŸ“„ å‘½ä»¤è¾“å‡º:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
total 128
drwxr-xr-x  15 user  staff   480 Oct 30 10:30 .
drwxr-xr-x   8 user  staff   256 Oct 29 15:20 ..
-rw-r--r--   1 user  staff  1234 Oct 30 10:25 file.txt
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

**å®žé™…åº”ç”¨åœºæ™¯**:

1. **éªŒè¯å‘½ä»¤æ‰§è¡Œç»“æžœ**:
   ```bash
   # Claudeå‘é€å‘½ä»¤åŽéªŒè¯æ˜¯å¦æˆåŠŸ
   ./scripts/send-and-capture.sh "npm install"
   ```

2. **èŽ·å–ç³»ç»Ÿä¿¡æ¯**:
   ```bash
   # èŽ·å–å½“å‰ç›®å½•ä¿¡æ¯
   ./scripts/send-and-capture.sh "pwd"

   # èŽ·å–çŽ¯å¢ƒå˜é‡
   ./scripts/send-and-capture.sh "env | grep NODE"
   ```

3. **åˆ†æžæ—¥å¿—è¾“å‡º**:
   ```bash
   # æ•èŽ·æµ‹è¯•ç»“æžœ
   ./scripts/send-and-capture.sh "pytest --verbose" 10
   ```

4. **Gitæ“ä½œéªŒè¯**:
   ```bash
   # æŸ¥çœ‹ä¿®æ”¹æ–‡ä»¶
   ./scripts/send-and-capture.sh "git status --short"

   # æŸ¥çœ‹æäº¤åŽ†å²
   ./scripts/send-and-capture.sh "git log --oneline -5"
   ```

**é…ç½®å‚æ•°**:

| å‚æ•° | è¯´æ˜Ž | é»˜è®¤å€¼ |
|------|------|--------|
| å‘½ä»¤ | è¦æ‰§è¡Œçš„shellå‘½ä»¤ | å¿…å¡« |
| è¶…æ—¶ | ç­‰å¾…å‘½ä»¤æ‰§è¡Œçš„ç§’æ•° | 3ç§’ |

**æ³¨æ„äº‹é¡¹**:

- â±ï¸ è¶…æ—¶æ—¶é—´åº”æ ¹æ®å‘½ä»¤å¤æ‚åº¦è°ƒæ•´ï¼ˆç®€å•å‘½ä»¤3ç§’ï¼Œå¤æ‚å‘½ä»¤5-10ç§’ï¼‰
- ðŸ“ è¾“å‡ºæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€åç§°ï¼ˆé¿å…å†²çªï¼‰
- ðŸ§¹ æ‰§è¡Œå®ŒæˆåŽè‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- âš ï¸ é•¿æ—¶é—´è¿è¡Œçš„å‘½ä»¤å¯èƒ½éœ€è¦æ›´é•¿è¶…æ—¶
- ðŸ”’ ä»…æ•èŽ·æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºï¼ˆstdout + stderrï¼‰

## âš ï¸ æ³¨æ„äº‹é¡¹

### æƒé™è¦æ±‚

é¦–æ¬¡ä½¿ç”¨æ—¶ï¼ŒmacOS å¯èƒ½ä¼šè¯·æ±‚æƒé™:

```
ç³»ç»Ÿåå¥½è®¾ç½® > å®‰å…¨æ€§ä¸Žéšç§ > éšç§ > è¾…åŠ©åŠŸèƒ½
```

å°† `Terminal.app` æˆ– `iTerm.app` æ·»åŠ åˆ°å…è®¸åˆ—è¡¨ã€‚

### å‘½ä»¤å¼•å·å¤„ç†

```bash
# âœ… æ­£ç¡®: ä½¿ç”¨åŒå¼•å·åŒ…è£¹å‘½ä»¤
./scripts/send-to-terminal.sh "echo 'test'"

# âœ… æ­£ç¡®: è½¬ä¹‰å†…éƒ¨å¼•å·
./scripts/send-to-terminal.sh "echo \"test\""

# âŒ é”™è¯¯: ä¸ä½¿ç”¨å¼•å·
./scripts/send-to-terminal.sh echo test
```

### ç‰¹æ®Šå­—ç¬¦

å¯¹äºŽåŒ…å«ç‰¹æ®Šå­—ç¬¦çš„å‘½ä»¤ï¼Œéœ€è¦é€‚å½“è½¬ä¹‰:

```bash
# åŒ…å« $ ç¬¦å·
./scripts/send-to-terminal.sh "echo \$HOME"

# åŒ…å«åå¼•å·
./scripts/send-to-terminal.sh "echo \`date\`"
```

## ðŸ” è°ƒè¯•

å¦‚æžœå‘½ä»¤æœªæ‰§è¡Œï¼Œæ£€æŸ¥:

1. **ç»ˆç«¯åº”ç”¨æ˜¯å¦æ‰“å¼€**: è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºçª—å£ï¼Œä½†éœ€è¦åº”ç”¨å·²å®‰è£…
2. **æƒé™è®¾ç½®**: æ£€æŸ¥è¾…åŠ©åŠŸèƒ½æƒé™
3. **å‘½ä»¤è¯­æ³•**: ç¡®ä¿å‘½ä»¤æœ¬èº«æ˜¯æ­£ç¡®çš„

### è°ƒè¯•æ¨¡å¼

```bash
# æŸ¥çœ‹è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹
bash -x ./scripts/send-to-terminal.sh "echo 'debug'"
```

## ðŸ“š å®žé™…åº”ç”¨åœºæ™¯

### åœºæ™¯1: è‡ªåŠ¨åŒ–æµ‹è¯•

```bash
./scripts/send-to-terminal.sh "npm test && echo 'æµ‹è¯•å®Œæˆ'"
```

### åœºæ™¯2: æ‰¹é‡éƒ¨ç½²

```bash
./scripts/send-to-terminal.sh "git pull && npm install && npm run build"
```

### åœºæ™¯3: å¼€å‘æœåŠ¡å™¨å¯åŠ¨

```bash
./scripts/send-to-terminal.sh "npm run dev"
```

### åœºæ™¯4: åœ¨ Claude Code ä¸­è§¦å‘ Git æ“ä½œ

```bash
./scripts/send-to-terminal.sh "git status && git diff"
```

## ðŸŽ“ é«˜çº§ç”¨æ³•

### ç»“åˆ Claude Code Hooks

åœ¨ `.claude/hooks/SessionStart.md` ä¸­:

```markdown
!./scripts/send-to-terminal.sh "echo 'ä¼šè¯å¼€å§‹: $(date)'"
```

### æ‰¹é‡å‘½ä»¤æ‰§è¡Œ

```bash
# åˆ›å»ºæ‰¹é‡è„šæœ¬
cat > batch-commands.sh << 'EOF'
#!/bin/bash
./scripts/send-to-terminal.sh "echo 'å¼€å§‹éƒ¨ç½²...'"
sleep 2
./scripts/send-to-terminal.sh "git pull"
sleep 2
./scripts/send-to-terminal.sh "npm install"
sleep 2
./scripts/send-to-terminal.sh "npm run build"
sleep 2
./scripts/send-to-terminal.sh "echo 'éƒ¨ç½²å®Œæˆ!'"
EOF

chmod +x batch-commands.sh
./batch-commands.sh
```

## ðŸ› é—®é¢˜æŽ’æŸ¥

### é—®é¢˜1: "âŒ æ— æ³•å‘é€åˆ°ç»ˆç«¯åº”ç”¨"

**åŽŸå› **: ç»ˆç«¯åº”ç”¨æœªå®‰è£…æˆ–æƒé™ä¸è¶³

**è§£å†³**:
1. ç¡®è®¤ iTerm2 æˆ– Terminal.app å·²å®‰è£…
2. æ£€æŸ¥è¾…åŠ©åŠŸèƒ½æƒé™
3. å°è¯•æ‰‹åŠ¨æ‰“å¼€ç»ˆç«¯åº”ç”¨

### é—®é¢˜2: å‘½ä»¤å‘é€äº†ä½†æœªæ‰§è¡Œ

**åŽŸå› **: å‘½ä»¤è¯­æ³•é”™è¯¯æˆ–éœ€è¦äº¤äº’å¼è¾“å…¥

**è§£å†³**:
1. å…ˆåœ¨ç»ˆç«¯ä¸­æ‰‹åŠ¨æµ‹è¯•å‘½ä»¤
2. ç¡®ä¿å‘½ä»¤ä¸éœ€è¦ç”¨æˆ·è¾“å…¥
3. ä½¿ç”¨ `-y` ç­‰æ ‡å¿—è·³è¿‡ç¡®è®¤

### é—®é¢˜3: ç‰¹æ®Šå­—ç¬¦æ˜¾ç¤ºå¼‚å¸¸

**åŽŸå› **: emoji æˆ–ä¸­æ–‡ç¼–ç é—®é¢˜

**è§£å†³**:
1. ç¡®ä¿ç»ˆç«¯ä½¿ç”¨ UTF-8 ç¼–ç 
2. iTerm2 é»˜è®¤æ”¯æŒ emoji
3. Terminal.app éœ€è¦åœ¨åå¥½è®¾ç½®ä¸­å¯ç”¨

## ðŸ“– ç›¸å…³èµ„æº

- [iTerm2 å®˜ç½‘](https://iterm2.com)
- [osascript æ–‡æ¡£](https://ss64.com/osx/osascript.html)
- [AppleScript è¯­è¨€æŒ‡å—](https://developer.apple.com/library/archive/documentation/AppleScript/Conceptual/AppleScriptLangGuide/)

---

**è„šæœ¬ä½ç½®**: `scripts/send-to-terminal.sh`
**ç‰ˆæœ¬**: 1.0.0
**æœ€åŽæ›´æ–°**: 2025-10-30
**ç»´æŠ¤è€…**: Claude Code + ZTL å¼€å‘å›¢é˜Ÿ
