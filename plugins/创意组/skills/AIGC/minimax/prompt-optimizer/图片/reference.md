# MiniMax Image Prompt Optimizer - Extended Reference

## Complete Design Type Templates

### 1. Poster (海报) - 2:3 Portrait

**Grand Opening Templates**:
```yaml
Hotpot Restaurant:
  Prompt: "Grand opening celebration poster for authentic Sichuan hotpot restaurant, center-stage bubbling red spicy broth with rising steam, fresh beef slices and chili peppers arrangement, red Chinese lanterns and gold ingots framing, bold calligraphy '开业大吉', warm golden hour lighting with glowing lanterns, vibrant red and gold auspicious color scheme, professional graphic design, festive celebratory atmosphere, 300 DPI print quality, high-resolution commercial photography"

  Variations:
    - Mongolian: "Traditional copper pot, clear lamb broth, Mongolian yurt patterns, earthy copper tones"
    - Seafood: "Fresh seafood hotpot, ocean blue and silver colors, coastal aesthetic"

Fine Dining:
  Prompt: "Michelin-star restaurant grand opening poster, artistic gourmet plating center stage, French cuisine elegance, black matte background with gold accents, minimalist luxury typography, soft rim lighting, sophisticated high-end aesthetic, editorial photography quality, exclusive VIP invitation mood"

Fast Food:
  Prompt: "Energetic fast food grand opening poster, hero burger and fries combo, bright primary colors (red, yellow, blue), bold sans-serif '盛大开业' text, dynamic diagonal composition, high-energy young vibe, appetite appeal focus, commercial product photography, value-for-money messaging"
```

**Seasonal Campaign Templates**:
```yaml
Spring:
  Prompt: "Spring season hotpot promotion poster, fresh green vegetables and herbs, pink cherry blossom petals decoration, pastel spring color palette, renewal and freshness theme, natural daylight photography, Instagram-worthy aesthetic"

Summer:
  Prompt: "Summer cooling hotpot poster, iced drinks and chilled broth, blue and turquoise refreshing colors, tropical fruit elements, beach vacation vibe, energetic summer mood"

Autumn:
  Prompt: "Autumn harvest hotpot poster, mushroom varieties and root vegetables, warm earth tones (brown, orange, gold), falling maple leaves, cozy comfort food atmosphere, rustic farmhouse style"

Winter:
  Prompt: "Winter warming hotpot poster, steaming hot broth center focus, snow and frost elements, deep red and white color contrast, family gathering warmth, hygge cozy aesthetic"
```

### 2. Menu (菜单) - 3:4 Portrait

**Premium Menu Templates**:
```yaml
Wagyu Beef Platter:
  Prompt: "Luxury hotpot menu design featuring premium A5 wagyu beef slices, beautifully marbled meat arrangement, pristine white marble background, elegant gold serif typography '顶级和牛', soft diffused studio lighting, high-end fine dining aesthetic, commercial food photography quality, mouth-watering presentation, Michelin-star plating style"

Seafood Selection:
  Prompt: "Fresh seafood hotpot menu board, king crab legs, jumbo prawns, scallops artfully arranged, iced display presentation, ocean blue gradient background, modern sans-serif font, natural daylight photography, premium seafood market quality"
```

**Casual Menu Templates**:
```yaml
Family Combo:
  Prompt: "Friendly family hotpot menu design, assorted meat platters (beef, lamb, pork), colorful vegetable trays, wooden table background, warm family dining vibe, natural lighting, appetizing vibrant colors, casual restaurant style, value combo pricing display"

Vegetarian Menu:
  Prompt: "Healthy vegetarian hotpot menu, organic vegetables and tofu varieties, fresh green color palette, minimalist clean design, eco-friendly aesthetic, wellness-focused messaging, natural organic photography style"
```

### 3. Social Media (社交媒体) - 1:1 Square / 9:16 Vertical

**Instagram Post Templates (1:1)**:
```yaml
Flat Lay Style:
  Prompt: "Square Instagram post top-down flat lay of colorful hotpot ingredients, circular arrangement around center pot, pastel pink and mint green trendy colors, '周末特惠' text in modern Chinese typography, Instagram-worthy aesthetic, foodie influencer style, high engagement visual, lifestyle photography"

Minimalist Clean:
  Prompt: "Minimalist Instagram square post, single hero dish close-up on pristine white background, negative space composition, elegant product photography, aesthetic simplicity, Kinfolk magazine style, art gallery quality"
```

**TikTok/Reels Templates (9:16)**:
```yaml
Attention Hook:
  Prompt: "Vertical 9:16 TikTok video thumbnail, extreme close-up of bubbling Sichuan hotpot, bold text overlay '限时8.8折' in trendy font, vibrant red and orange color explosion, dynamic steam effects, modern social media design, mobile-first composition, attention-grabbing visual hook, shareable food content style"

ASMR Food:
  Prompt: "TikTok ASMR food video thumbnail 9:16, cheese pull moment from hotpot, satisfying food visual, warm cozy lighting, '超治愈' text overlay, ASMR aesthetic, viral food trend style"
```

### 4. Store Signage (店铺标识) - 16:9 Wide / 21:9 Ultra-Wide

**Outdoor Signage Templates**:
```yaml
LED Display (21:9):
  Prompt: "Ultra-wide 21:9 LED storefront display design for hotpot restaurant, panoramic view of steaming hotpot feast, brand logo left corner, '欢迎光临' large text right side, vibrant red and gold colors, high-brightness display optimization, night-time glowing effect, weather-resistant commercial signage quality, readability from 50 meters"

Storefront Banner (16:9):
  Prompt: "Wide 16:9 storefront banner for fine dining establishment, elegant brand logo center stage, sophisticated black and gold color scheme, minimalist luxury aesthetic, premium restaurant positioning, architectural photography style, high-end commercial signage"
```

### 5. Coupon/Voucher (优惠券) - 3:2

**Discount Coupon Templates**:
```yaml
Percentage Off:
  Prompt: "Professional discount coupon 3:2 design, large '8.8折' text center focus, hotpot visual background (subtle, not overpowering), red and gold lucky color scheme, QR code bottom right, expiry date '有效期至2025-12-31', terms and conditions small print, trustworthy official design, anti-counterfeit elements, print-ready 300 DPI"

Cash Voucher:
  Prompt: "Gift voucher certificate design 3:2, '¥100代金券' prominent display, decorative border with Chinese knot pattern, elegant typography, premium paper texture effect, security watermark, brand logo seal, formal certificate aesthetic"
```

### 6. Infographic (信息图表) - 9:16 Vertical

**Educational Infographic Templates**:
```yaml
Cooking Steps:
  Prompt: "Vertical 9:16 infographic poster explaining hotpot cooking steps, numbered sequence 1-5, step-by-step illustrations, clean modern layout, icons and diagrams, instructional design style, educational yet appetizing, easy-to-follow visual guide, mobile-friendly format"

Nutritional Info:
  Prompt: "Nutrition facts infographic 9:16, calorie breakdown chart, protein/carbs/fats pie chart, healthy eating benefits, data visualization design, health-focused color palette (green, white), informative professional style, wellness content aesthetic"
```

### 7. Product Showcase (产品展示) - 1:1 Square

**Hero Product Templates**:
```yaml
Signature Dish:
  Prompt: "Square 1:1 product showcase photo, signature spicy hotpot dish hero shot, clean white background, professional studio lighting with soft shadows, commercial e-commerce photography style, Amazon/JD product image standard, appetizing close-up, high-resolution detail, 100% focus on product"

Ingredient Spotlight:
  Prompt: "Premium ingredient showcase 1:1, A5 wagyu beef package, marbling texture visible, black luxury background, dramatic side lighting, premium product photography, Vogue food editorial style, aspirational luxury positioning"
```

### 8. Event Invitation (活动邀请) - 2:3 Portrait

**VIP Event Templates**:
```yaml
Chef's Table:
  Prompt: "Elegant 2:3 VIP event invitation, 'Chef's Table Exclusive Dinner' headline, gourmet plating photo, black and gold sophisticated design, event details (date, time, RSVP), formal invitation typography, premium paper texture, luxury hospitality aesthetic, exclusive member event positioning"

Grand Opening VIP:
  Prompt: "Grand opening VIP invitation poster 2:3, '诚邀莅临' formal Chinese text, red and gold auspicious colors, decorative traditional elements, event information layout, RSVP QR code, prestigious formal design, high-society event aesthetic"
```

### 9. Branding Material (品牌物料) - 1:1 Square / 3:2

**Logo & Identity Templates**:
```yaml
Logo Design (1:1):
  Prompt: "Square 1:1 brand logo design for hotpot restaurant, circular badge layout, Chinese calligraphy brand name, hotpot icon element, red and gold brand colors, clean minimalist execution, versatile scalable design, professional brand identity, suitable for signage and packaging"

Business Card (3:2):
  Prompt: "Professional business card design 3:2, brand logo left, contact information right, elegant typography, premium matte black background, gold foil text effect, sophisticated corporate identity, C-suite executive aesthetic, print-ready CMYK colors"
```

## Aspect Ratio Deep Dive

### When to Use Each Ratio

```yaml
1:1 (Square):
  Best for:
    - Instagram feed posts
    - Profile pictures
    - Product photos (e-commerce)
    - Logo designs
    - Packaging design
  Avoid for:
    - Wide panoramic scenes
    - Vertical Stories/Reels
    - Landscape posters

16:9 (Landscape):
  Best for:
    - YouTube thumbnails
    - Website hero banners
    - Presentation slides
    - TV/monitor displays
  Avoid for:
    - Mobile-first content
    - Vertical posters
    - Print flyers

4:3 (Standard):
  Best for:
    - Traditional print menus
    - Flyers and brochures
    - Classic photography
  Avoid for:
    - Modern social media
    - Ultra-wide displays

3:2 (Photo):
  Best for:
    - Professional photography
    - Coupons and vouchers
    - Print postcards
  Avoid for:
    - Social media Stories
    - Vertical mobile content

2:3 (Portrait):
  Best for:
    - Posters (wall hanging)
    - Door hangers
    - Vertical banners
  Avoid for:
    - Wide storefront signs
    - Landscape presentations

3:4 (Vertical):
  Best for:
    - Mobile app designs
    - Menu boards (vertical)
    - Magazine ads
  Avoid for:
    - Desktop wallpapers
    - Wide banners

9:16 (Vertical):
  Best for:
    - Instagram/TikTok Stories
    - Reels and Shorts
    - Mobile-first infographics
  Avoid for:
    - Desktop viewing
    - Print materials

21:9 (Ultra-wide):
  Best for:
    - LED storefront displays
    - Panoramic photography
    - Cinematic visuals
  Avoid for:
    - Social media posts
    - Standard print
```

## Advanced Prompt Engineering

### Composition Techniques

**Rule of Thirds**:
```yaml
Prompt Addition:
  "composition following rule of thirds, subject positioned at intersection points, balanced visual weight, professional photography composition"
```

**Center Focus**:
```yaml
Prompt Addition:
  "center-stage focal point, symmetrical composition, hero element dominant, minimalist negative space, bold central positioning"
```

**Diagonal Dynamics**:
```yaml
Prompt Addition:
  "dynamic diagonal composition, energetic angled layout, movement and flow, modern graphic design technique"
```

### Lighting Descriptions

**Studio Lighting**:
- "three-point lighting setup"
- "soft box diffused lighting"
- "rim lighting with backlight"
- "professional studio photography"

**Natural Lighting**:
- "golden hour warm lighting"
- "natural window light"
- "soft afternoon sunlight"
- "overcast diffused daylight"

**Dramatic Lighting**:
- "chiaroscuro high contrast"
- "dramatic side lighting"
- "moody low-key lighting"
- "cinematic noir aesthetic"

### Color Psychology for Restaurants

```yaml
Red & Gold (Chinese/Asian):
  Psychology: Luck, prosperity, appetite stimulation
  Use for: Grand openings, celebrations, traditional hotpot
  Avoid for: Minimalist modern, health-focused cafes

Earth Tones (Rustic):
  Psychology: Comfort, naturalness, organic
  Use for: Cafes, farm-to-table, artisan bakeries
  Avoid for: High-tech fast food, luxury fine dining

Black & Gold (Luxury):
  Psychology: Sophistication, exclusivity, premium
  Use for: Fine dining, high-end restaurants, VIP events
  Avoid for: Family casual, budget-friendly

Pastel (Trendy):
  Psychology: Freshness, youth, Instagram-worthy
  Use for: Cafes, dessert shops, millennial marketing
  Avoid for: Traditional establishments, formal dining
```

## Edge Case Handling

### Very Long Briefs
**Input**: "火锅店开业海报需要包含店名、地址、电话、营业时间、特色菜品、优惠信息、二维码..."

**Strategy**: Extract core visual elements, defer text to post-processing
```python
def extract_visual_elements(long_brief):
    # Focus on visual content
    visual_keywords = ["海报", "火锅", "开业", "特色菜"]
    core_prompt = " ".join([kw for kw in visual_keywords if kw in long_brief])
    return f"{core_prompt}, professional graphic design, space for text overlay"
```

### Mixed Language Inputs
**Input**: "Make a poster for 川味火锅 with Chinese and English text"

**Strategy**: Describe text placement, not actual text
```yaml
Optimized Prompt:
  "Bilingual poster design for Sichuan hotpot restaurant, Chinese headline space top, English subtitle space bottom, steaming hotpot hero image center, professional multilingual design layout"
```

### Conflicting Style Requests
**Input**: "高端奢华但又要便宜实惠的感觉"

**Strategy**: Prioritize primary style, add secondary elements
```yaml
Resolution:
  Primary: 高端奢华 (luxury, elegant)
  Secondary: value messaging (text overlay)
  Prompt: "Elegant luxury hotpot poster, sophisticated aesthetic, '超值优惠' text badge, premium positioning with accessible pricing"
```

## Batch Generation Strategies

### Campaign Sets (9 images at once)

```python
campaign_prompts = [
    # 3x Menu items
    "Premium wagyu beef menu, white background, 1:1",
    "Fresh seafood platter menu, ocean blue, 1:1",
    "Vegetable assortment menu, green tones, 1:1",

    # 3x Social media
    "Instagram post flat lay, pastel colors, 1:1",
    "TikTok vertical thumbnail, 8.8折, 9:16",
    "YouTube landscape banner, restaurant interior, 16:9",

    # 3x Posters
    "Grand opening poster, red gold, 2:3",
    "Seasonal spring campaign, pastel, 2:3",
    "VIP event invitation, black gold, 2:3"
]

# Generate all 9 at once with n=9
optimized = optimizer.optimize({
    "creative_brief": "Hotpot restaurant full campaign set",
    "n": 9,
    # API will use first prompt as base, generate variations
})
```

### A/B Testing Variants

```python
# Generate 3 variations for A/B testing
variants = [
    {"color_palette": "red-gold", "artistic_style": "festive"},
    {"color_palette": "pastel", "artistic_style": "trendy"},
    {"color_palette": "earth-tones", "artistic_style": "rustic"}
]

for i, variant in enumerate(variants):
    result = optimizer.optimize({
        "creative_brief": "火锅店开业海报",
        **variant
    })
    save_as(f"variant_{i+1}.png")
```

## Troubleshooting

### Issue: "Image doesn't match brief"
- **Check**: Prompt includes all key elements (subject, style, lighting, colors)
- **Fix**: Add more specific composition details

### Issue: "Wrong aspect ratio"
- **Cause**: Design type to ratio mismatch
- **Fix**: Manually specify aspect_ratio parameter

### Issue: "Low quality output"
- **Cause**: Missing quality keywords
- **Fix**: Ensure "300 DPI", "high-resolution", "commercial photography" in prompt

### Issue: "Text not readable"
- **Cause**: MiniMax Image-01 doesn't generate text reliably
- **Fix**: Describe text placement only, add actual text in post-processing (Photoshop/Figma)

## API Error Handling

### Common Errors

**INVALID_ASPECT_RATIO**:
```yaml
Error: Aspect ratio not supported
Cause: Using non-standard ratio like "5:7"
Fix: Validate ratio against 8 supported ratios, fallback to closest
```

**PROMPT_TOO_SHORT**:
```yaml
Error: Prompt too vague for quality generation
Cause: Brief like "火锅图片" (only 3 characters)
Fix: Expand with default template for detected design type
```

**BATCH_LIMIT_EXCEEDED**:
```yaml
Error: n parameter exceeds 9
Cause: Requesting 15 images at once
Fix: Clamp n to 1-9 range, make multiple API calls if needed
```

### Retry Strategy

```python
def call_with_retry(api_params, max_retries=3):
    for attempt in range(max_retries):
        try:
            result = mcp__minimax-mcp__text_to_image(**api_params)
            return result
        except Exception as e:
            if "PROMPT_TOO_SHORT" in str(e):
                # Expand prompt and retry
                api_params["prompt"] = expand_with_template(api_params["prompt"])
                continue

            elif attempt < max_retries - 1:
                time.sleep(2 ** attempt)
                continue

            raise
```

## Performance Optimization

### Prompt Caching

```python
template_cache = {
    "hotpot_poster_festive": {
        "base_prompt": "Grand opening hotpot poster, red gold, festive",
        "aspect_ratio": "2:3",
        "style_keywords": STYLE_KEYWORDS["festive"]
    }
}

def optimize_with_cache(brief, template_key):
    if template_key in template_cache:
        cached = template_cache[template_key]
        return merge_with_brief(cached, brief)
    else:
        return optimizer.optimize(brief)
```

## Version History

- **v1.0.0** (2025-10-30): Initial release with all features

## License

**Author**: ZTL Digital Intelligence Operations Center - 创意组
**License**: MIT
