---
name: Nano Bananaå»ºç­‘ç©ºé—´è®¾è®¡å›¾ç”Ÿæˆ
description: ä¸“ä¸ºç­¹å»ºç»„è®¾è®¡çš„å»ºç­‘ç©ºé—´è®¾è®¡å›¾ç”ŸæˆæŠ€èƒ½åŒ…ã€‚æ”¯æŒæ–‡ç”Ÿå›¾(ç©ºé—´è®¾è®¡ä¸»å›¾)å’Œå›¾ç”Ÿå›¾(å¤šè§’åº¦é€è§†å›¾)ä¸¤å¤§æ¨¡å¼ã€‚å†…ç½®å»ºç­‘æ‘„å½±çº§æç¤ºè¯ä¼˜åŒ–å™¨,å°†ä»»æ„éœ€æ±‚ä¼˜åŒ–ä¸ºé«˜è´¨é‡æ¸²æŸ“æç¤ºè¯ã€‚å¼ºè°ƒç©ºé—´è´¨æ„Ÿã€å…‰å½±æ•ˆæœã€å»ºç­‘ç¾å­¦å’Œæ‘„å½±æ„å›¾ã€‚ç”¨äºé¤å…ç©ºé—´è®¾è®¡ã€å®¤å†…è®¾è®¡ã€å»ºç­‘æ•ˆæœå›¾ç­‰åœºæ™¯ã€‚
---

# Nano Bananaå»ºç­‘ç©ºé—´è®¾è®¡å›¾ç”Ÿæˆ

> åŸºäºNano Bananaæ¨¡å‹çš„ä¸“ä¸šå»ºç­‘ç©ºé—´è®¾è®¡å›¾ç”Ÿæˆ,ä¸“æ³¨äºé¤å…å®¤å†…ç©ºé—´è®¾è®¡ã€å»ºç­‘æ•ˆæœå›¾æ¸²æŸ“ã€‚å†…ç½®å»ºç­‘æ‘„å½±çº§æç¤ºè¯ä¼˜åŒ–å™¨,ç¡®ä¿è¾“å‡ºè¾¾åˆ°ä¸“ä¸šå»ºç­‘æ‘„å½±æ ‡å‡†ã€‚

## ğŸ¯ æ ¸å¿ƒå®šä½

**ç­¹å»ºç»„ä¸“å±æŠ€èƒ½åŒ…**: ä¸»è¦æœåŠ¡äºå»ºç­‘ã€ç©ºé—´ã€å®¤å†…ã€åœºæ™¯è®¾è®¡çš„å›¾ç‰‡åˆ›ä½œ

**æ ¸å¿ƒèƒ½åŠ›**:
- **æ–‡ç”Ÿå›¾ (Text-to-Image)**: ç”Ÿæˆç©ºé—´è®¾è®¡ä¸»å›¾,ç¡®å®šåŸºæœ¬é£æ ¼
  - ç©ºé—´è®¾è®¡ä¸»å›¾: å…¥å£ã€å°±é¤åŒºã€åŒ…é—´ã€ç­‰å¾…åŒºã€æ´—æ‰‹é—´ã€æ”¶é“¶å°ç­‰
  - å»ºç­‘æ‘„å½±é£æ ¼: å¼ºè°ƒç©ºé—´è®¾è®¡è´¨æ„Ÿã€å…‰å½±ã€é«˜æ¸…å†™å®æ„Ÿ
  - ä¸“ä¸šæ¸²æŸ“: 8Kåˆ†è¾¨ç‡ã€photorealisticã€å»ºç­‘æ‘„å½±çº§åˆ«

- **å›¾ç”Ÿå›¾ (Image-to-Image)**: åŸºäºä¸»å›¾ç”Ÿæˆå¤šè§’åº¦é€è§†å›¾
  - å¤šè§’åº¦è§†å›¾: æ­£é¢ã€ä¾§é¢ã€é¸Ÿç°ã€è§’è½é€è§†ç­‰
  - è§†è§‰ä¸€è‡´æ€§: ä¿æŒä¸»å›¾é£æ ¼å’Œè‰²å½©æ–¹æ¡ˆ(ä¸€è‡´æ€§â‰¥95%)
  - ç²¾ç¡®å˜åŒ–: ä»…æ”¹å˜æŒ‡å®šå…ƒç´ (è§†è§’ã€å…‰ç…§ã€å±€éƒ¨ç»†èŠ‚)

- **æç¤ºè¯ä¼˜åŒ– (Prompt Optimization)**: â­ æ–°å¢æ ¸å¿ƒåŠŸèƒ½
  - è‡ªåŠ¨ä¼˜åŒ–: å°†ä»»æ„éœ€æ±‚æè¿°ä¼˜åŒ–ä¸ºé«˜è´¨é‡å»ºç­‘æ‘„å½±æç¤ºè¯
  - æœ€ä½³å®è·µ: éµå¾ªStable Diffusion XLæœ€ä½³å®è·µå’Œå»ºç­‘æ‘„å½±æ ‡å‡†
  - ä¸“ä¸šæœ¯è¯­: é›†æˆå»ºç­‘æ‘„å½±ã€å®¤å†…è®¾è®¡ã€æè´¨çº¹ç†ã€å…‰ç…§æ°›å›´ç­‰ä¸“ä¸šè¯æ±‡
  - å­—æ•°æ§åˆ¶: æ™ºèƒ½æˆªæ–­è‡³æ¨èé•¿åº¦(â‰¤400å­—ç¬¦)

## ğŸ¨ è®¾è®¡é£æ ¼ç‰¹ç‚¹

**å»ºç­‘æ‘„å½±é£æ ¼**:
- ç©ºé—´è´¨æ„Ÿ: æè´¨çº¹ç†ç»†è…»ã€å…‰å½±å±‚æ¬¡ä¸°å¯Œ
- é«˜æ¸…å†™å®: 8Kåˆ†è¾¨ç‡ã€è¶…é«˜æ¸…ç»†èŠ‚ã€ä¸“ä¸šæ¸²æŸ“
- æ„å›¾ç¾å­¦: å¯¹ç§°æ„å›¾ã€é€è§†å‡†ç¡®ã€è§†è§‰å¹³è¡¡
- ç©ºé—´ç¾å­¦: åŠŸèƒ½åˆç†ã€åŠ¨çº¿æµç•…ã€æ°›å›´åˆ°ä½
- æ‘„å½±ç¾å­¦: ä¸“ä¸šå…‰ç…§ã€è‰²å½©å’Œè°ã€ç»†èŠ‚ä¸°å¯Œ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ¨¡å¼1: æ–‡ç”Ÿå›¾ - ç©ºé—´è®¾è®¡ä¸»å›¾

**å‰ç½®æ­¥éª¤: æç¤ºè¯ä¼˜åŒ–** â­ æ¨èä½¿ç”¨

åœ¨ç”Ÿæˆå›¾ç‰‡ä¹‹å‰,å»ºè®®ä½¿ç”¨æç¤ºè¯ä¼˜åŒ–å™¨å°†éœ€æ±‚æè¿°ä¼˜åŒ–ä¸ºé«˜è´¨é‡æç¤ºè¯:

```python
# 1. å¯¼å…¥æç¤ºè¯ä¼˜åŒ–å™¨
from scripts.prompt_optimizer_architecture import ArchitecturePromptOptimizer

# 2. åˆå§‹åŒ–ä¼˜åŒ–å™¨
optimizer = ArchitecturePromptOptimizer()

# 3. å®šä¹‰è®¾è®¡éœ€æ±‚
raw_description = "ç±³ç™½è‰²å¢™é¢é…èƒ¡æ¡ƒæœ¨è‰²æœ¨é¥°é¢,å¤å…¸æ ¼æ …å±é£,å“ç‰ŒLOGOå¢™,ç»¿æ¤ç‚¹ç¼€"
space_type = "entrance"  # ç©ºé—´ç±»å‹
style_keywords = ["æ–°ä¸­å¼é£æ ¼", "å¯¹ç§°å¸ƒå±€", "æ¸©é¦¨é›…è‡´"]
color_scheme = {
    "primary": "ç±³ç™½è‰² (#F5F5DC)",
    "secondary": "èƒ¡æ¡ƒæœ¨è‰² (#8B4513)",
    "accent": "ä¸­å›½çº¢ (#DC143C)"
}
materials = ["æœ¨é¥°é¢å¢™æ¿", "ä»¿å¤åœ°ç –", "å®æœ¨æ ¼æ …", "å®«ç¯åŠç¯"]

# 4. ä¼˜åŒ–æç¤ºè¯
result = optimizer.optimize_text_to_image(
    raw_description=raw_description,
    space_type=space_type,
    style_keywords=style_keywords,
    color_scheme=color_scheme,
    materials=materials,
    lighting="warm",        # å…‰ç…§æ°›å›´: warm/cool/dramatic/soft/natural
    view_angle="front_view" # è§†è§’: front_view/side_view/aerial_view/corner_view
)

print("ä¼˜åŒ–åçš„æç¤ºè¯:")
print(result["positive_prompt"])
print(f"å­—ç¬¦æ•°: {len(result['positive_prompt'])}")
```

**è¾“å‡ºç¤ºä¾‹**:
```
ä¼˜åŒ–åçš„æç¤ºè¯:
entrance reception area, welcoming lobby, grand foyer, æ–°ä¸­å¼é£æ ¼, å¯¹ç§°å¸ƒå±€, æ¸©é¦¨é›…è‡´,
ç±³ç™½è‰²å¢™é¢é…èƒ¡æ¡ƒæœ¨è‰²æœ¨é¥°é¢,å¤å…¸æ ¼æ …å±é£,å“ç‰ŒLOGOå¢™,ç»¿æ¤ç‚¹ç¼€, ç±³ç™½è‰² (#F5F5DC) as primary color,
èƒ¡æ¡ƒæœ¨è‰² (#8B4513) as secondary color, ä¸­å›½çº¢ (#DC143C) as accent color, æœ¨é¥°é¢å¢™æ¿, ä»¿å¤åœ°ç –,
å®æœ¨æ ¼æ …, å®«ç¯åŠç¯, warm ambient lighting, golden hour glow, soft shadows, eye level front shot,
symmetrical composition, architectural photography, photorealistic, 8K resolution

å­—ç¬¦æ•°: 386
```

**ä½¿ç”¨ä¼˜åŒ–åçš„æç¤ºè¯ç”Ÿæˆå›¾ç‰‡**:

```bash
# ä½¿ç”¨APIå®¢æˆ·ç«¯ç”Ÿæˆ
python scripts/api_client.py generate \
    --prompt "entrance reception area, welcoming lobby, grand foyer..." \
    --negative "blurry, low quality, noise, distorted, cartoon style..." \
    --aspect-ratio "16:9" \
    --output output/ç«é”…åº—å¼€ä¸šç­¹å¤‡/Z2-ç©ºé—´è®¾è®¡å¸ˆ/
```

### æ¨¡å¼2: å›¾ç”Ÿå›¾ - å¤šè§’åº¦é€è§†å›¾

åŸºäºå·²æœ‰çš„ç©ºé—´è®¾è®¡ä¸»å›¾,ç”Ÿæˆä¸åŒè§†è§’çš„é€è§†å›¾:

```python
# 1. å‡†å¤‡å‚è€ƒä¸»å›¾
reference_image = "output/ç«é”…åº—å¼€ä¸šç­¹å¤‡/Z2-ç©ºé—´è®¾è®¡å¸ˆ/ç©ºé—´è®¾è®¡-å…¥å£è¿å®¾åŒº-main.png"

# 2. ä½¿ç”¨ä¼˜åŒ–å™¨ç”Ÿæˆå›¾ç”Ÿå›¾æç¤ºè¯
result = optimizer.optimize_image_to_image(
    reference_description="æ–°ä¸­å¼é£æ ¼é¤å…å…¥å£,ç±³ç™½è‰²å¢™é¢,èƒ¡æ¡ƒæœ¨å®¶å…·,æš–é»„è‰²ç¯å…‰",
    keep_consistent=[
        "æ–°ä¸­å¼é£æ ¼",
        "ç±³ç™½è‰²å¢™é¢",
        "èƒ¡æ¡ƒæœ¨å®¶å…·",
        "æš–é»„è‰²ç¯å…‰",
        "æ•´ä½“è‰²è°ƒ",
        "æè´¨è´¨æ„Ÿ"
    ],
    change_elements=[
        "è§†è§’ä»æ­£é¢æ”¹ä¸º45åº¦ä¾§é¢",
        "å¢åŠ çª—å¤–è‡ªç„¶å…‰",
        "è°ƒæ•´æ„å›¾ä¸ºä¸¤ç‚¹é€è§†"
    ],
    strength=0.65  # å˜åŒ–å¼ºåº¦ 0.4-0.8
)

# 3. ä½¿ç”¨APIå®¢æˆ·ç«¯æ‰§è¡Œå›¾ç”Ÿå›¾
python scripts/api_client.py generate \
    --reference $reference_image \
    --prompt "${result['positive_prompt']}" \
    --strength 0.65 \
    --output output/ç«é”…åº—å¼€ä¸šç­¹å¤‡/Z2-ç©ºé—´è®¾è®¡å¸ˆ/
```

### æç¤ºè¯ä¼˜åŒ–å™¨æ ¸å¿ƒå‚æ•°

**æ–‡ç”Ÿå›¾ä¼˜åŒ–å™¨å‚æ•°**:

| å‚æ•° | è¯´æ˜ | å¯é€‰å€¼ |
|------|------|--------|
| `space_type` | ç©ºé—´ç±»å‹ | entrance/dining/vip_room/kitchen/restroom/cashier/waiting |
| `style_keywords` | é£æ ¼å…³é”®è¯åˆ—è¡¨ | ["æ–°ä¸­å¼", "ç°ä»£ç®€çº¦", "å·¥ä¸šé£"...] |
| `color_scheme` | è‰²å½©æ–¹æ¡ˆå­—å…¸ | {"primary": "ç±³ç™½", "secondary": "èƒ¡æ¡ƒæœ¨", "accent": "ä¸­å›½çº¢"} |
| `materials` | æè´¨åˆ—è¡¨ | ["æœ¨é¥°é¢", "ä»¿å¤åœ°ç –", "å®æœ¨å®¶å…·"...] |
| `lighting` | å…‰ç…§æ°›å›´ | warm/cool/dramatic/soft/natural |
| `view_angle` | è§†è§’ç±»å‹ | front_view/side_view/aerial_view/corner_view/wide_angle |

**å›¾ç”Ÿå›¾ä¼˜åŒ–å™¨å‚æ•°**:

| å‚æ•° | è¯´æ˜ | å–å€¼èŒƒå›´ |
|------|------|----------|
| `reference_description` | å‚è€ƒä¸»å›¾æè¿° | æ–‡æœ¬ |
| `keep_consistent` | ä¿æŒä¸€è‡´çš„å…ƒç´ åˆ—è¡¨ | è‡³å°‘1ä¸ª |
| `change_elements` | éœ€è¦æ”¹å˜çš„å…ƒç´ åˆ—è¡¨ | è‡³å°‘1ä¸ª |
| `strength` | å˜åŒ–å¼ºåº¦ | 0.4-0.8 |

**strengthå»ºè®®å€¼**:
- `0.4-0.5`: è½»å¾®å˜åŒ–(å…‰ç…§å¾®è°ƒã€ç»†èŠ‚ä¼˜åŒ–)
- `0.6-0.7`: ä¸­ç­‰å˜åŒ–(è§†è§’å˜åŒ–ã€å±€éƒ¨è°ƒæ•´)
- `0.75-0.8`: è¾ƒå¤§å˜åŒ–(ç©ºé—´å…ƒç´ ã€æ„å›¾å˜åŒ–)

## ğŸ“ å¸¸è§åœºæ™¯

### åœºæ™¯1: å•ä¸ªç©ºé—´åœºæ™¯ - æ–°ä¸­å¼ç«é”…åº—å…¥å£

```python
# ä½¿ç”¨ä¼˜åŒ–å™¨ç”Ÿæˆå®Œæ•´åœºæ™¯é…ç½®
scene_config = optimizer.generate_config_for_scene(
    project_name="ç«é”…åº—å¼€ä¸šç­¹å¤‡",
    scene_name="å…¥å£è¿å®¾åŒº",
    space_type="entrance",
    style_keywords=["æ–°ä¸­å¼é£æ ¼", "å¯¹ç§°å¸ƒå±€", "æ¸©é¦¨é›…è‡´"],
    color_scheme={
        "primary": "ç±³ç™½è‰²",
        "secondary": "èƒ¡æ¡ƒæœ¨è‰²",
        "accent": "ä¸­å›½çº¢"
    },
    materials=["æœ¨é¥°é¢å¢™æ¿", "ä»¿å¤åœ°ç –", "å®æœ¨æ ¼æ …"],
    raw_description="å“ç‰ŒLOGOå¢™å±…ä¸­,å¤å…¸æ ¼æ …å±é£éš”æ–­,ç»¿æ¤ç‚¹ç¼€",
    lighting="warm",
    view_angle="front_view",
    area="10ã¡",
    aspect_ratio="16:9"
)

# å¯¼å‡ºé…ç½®ä¸ºJSON
optimizer.export_to_json(scene_config, "config/entrance-scene.json")

# ä½¿ç”¨é…ç½®ç”Ÿæˆå›¾ç‰‡
python scripts/api_client.py batch --config config/entrance-scene.json
```

### åœºæ™¯2: æ‰¹é‡ç”Ÿæˆ6ä¸ªç©ºé—´åœºæ™¯

ä¸ºå®Œæ•´é¡¹ç›®ç”Ÿæˆæ‰€æœ‰ç©ºé—´åœºæ™¯:

```python
# å®šä¹‰6ä¸ªåœºæ™¯
scenes = [
    {"name": "å…¥å£è¿å®¾åŒº", "type": "entrance", "area": "10ã¡", "view": "front_view"},
    {"name": "å¼€æ”¾å°±é¤åŒº", "type": "dining", "area": "150ã¡", "view": "wide_angle"},
    {"name": "VIPåŒ…é—´", "type": "vip_room", "area": "25ã¡", "view": "corner_view"},
    {"name": "ç­‰å¾…ä¼‘æ¯åŒº", "type": "waiting", "area": "15ã¡", "view": "side_view"},
    {"name": "æ´—æ‰‹é—´å‰å…", "type": "restroom", "area": "8ã¡", "view": "front_view"},
    {"name": "æ”¶é“¶ç»“è´¦åŒº", "type": "cashier", "area": "5ã¡", "view": "front_view"}
]

# æ‰¹é‡ç”Ÿæˆåœºæ™¯é…ç½®
for scene in scenes:
    scene_config = optimizer.generate_config_for_scene(
        project_name="ç«é”…åº—å¼€ä¸šç­¹å¤‡",
        scene_name=scene["name"],
        space_type=scene["type"],
        style_keywords=["æ–°ä¸­å¼é£æ ¼", "æ¸©é¦¨é›…è‡´"],
        color_scheme={"primary": "ç±³ç™½è‰²", "secondary": "èƒ¡æ¡ƒæœ¨è‰²", "accent": "ä¸­å›½çº¢"},
        materials=["æœ¨é¥°é¢", "ä»¿å¤åœ°ç –", "å®æœ¨å®¶å…·"],
        raw_description=f"{scene['name']}ç©ºé—´è®¾è®¡",
        lighting="warm",
        view_angle=scene["view"],
        area=scene["area"]
    )

    optimizer.export_to_json(scene_config, f"config/{scene['name']}.json")
```

### åœºæ™¯3: åŒä¸€åœºæ™¯å¤šè§†è§’ç”Ÿæˆ

åŸºäºä¸»å›¾ç”Ÿæˆå¤šä¸ªè§†è§’çš„é€è§†å›¾:

```bash
# å·²æœ‰ä¸»å›¾: entrance-main.png (æ­£é¢è§†å›¾)

# ç”Ÿæˆä¾§é¢è§†å›¾
python scripts/api_client.py generate \
    --reference entrance-main.png \
    --keep "æ–°ä¸­å¼é£æ ¼,ç±³ç™½è‰²å¢™é¢,èƒ¡æ¡ƒæœ¨å®¶å…·,æš–é»„ç¯å…‰" \
    --change "è§†è§’æ”¹ä¸º45åº¦ä¾§é¢,ä¸¤ç‚¹é€è§†" \
    --strength 0.65

# ç”Ÿæˆé¸Ÿç°è§†å›¾
python scripts/api_client.py generate \
    --reference entrance-main.png \
    --keep "æ–°ä¸­å¼é£æ ¼,ç±³ç™½è‰²å¢™é¢,èƒ¡æ¡ƒæœ¨å®¶å…·" \
    --change "è§†è§’æ”¹ä¸ºé¸Ÿç°,ä¿¯è§†æ„å›¾" \
    --strength 0.70

# ç”Ÿæˆè§’è½é€è§†
python scripts/api_client.py generate \
    --reference entrance-main.png \
    --keep "æ–°ä¸­å¼é£æ ¼,æ•´ä½“è‰²è°ƒ,æè´¨è´¨æ„Ÿ" \
    --change "è§†è§’æ”¹ä¸ºè§’è½é€è§†,å±•ç¤ºç©ºé—´æ·±åº¦" \
    --strength 0.68
```

## ğŸ“ è¿›é˜¶æ–‡æ¡£

- **[æç¤ºè¯ä¼˜åŒ–å™¨è¯¦ç»†æ–‡æ¡£](scripts/prompt_optimizer_architecture.py)** - å®Œæ•´APIã€ä½¿ç”¨ç¤ºä¾‹ã€æœ€ä½³å®è·µ
- **[APIå®¢æˆ·ç«¯å‚è€ƒ](scripts/api_client.py)** - ç»Ÿä¸€APIè°ƒç”¨å®¢æˆ·ç«¯
- **[å»ºç­‘æ‘„å½±æœ¯è¯­åº“](reference.md)** - ä¸“ä¸šæœ¯è¯­ã€è´¨é‡æ ‡ç­¾ã€æè´¨æè¿°

## ğŸ› ï¸ ä½¿ç”¨è„šæœ¬

### scripts/prompt_optimizer_architecture.py â­ æ ¸å¿ƒå·¥å…·

å»ºç­‘ç©ºé—´è®¾è®¡ä¸“ç”¨æç¤ºè¯ä¼˜åŒ–å™¨ã€‚

**åŠŸèƒ½**:
- æ–‡ç”Ÿå›¾æç¤ºè¯ä¼˜åŒ– (8å…ƒç´ ç»“æ„: ç©ºé—´ç±»å‹+é£æ ¼+è‰²å½©+æè´¨+å…‰ç…§+è§†è§’+è´¨é‡)
- å›¾ç”Ÿå›¾æç¤ºè¯ä¼˜åŒ– (keep/changeåˆ†ç¦»ç­–ç•¥)
- å®Œæ•´åœºæ™¯é…ç½®ç”Ÿæˆ (JSONæ ¼å¼)
- è‡ªåŠ¨è´¨é‡æ ‡ç­¾æ³¨å…¥ (å»ºç­‘æ‘„å½±çº§åˆ«)
- å­—æ•°æ™ºèƒ½æ§åˆ¶ (â‰¤400å­—ç¬¦)

**è°ƒç”¨æ–¹å¼**:
```python
from scripts.prompt_optimizer_architecture import ArchitecturePromptOptimizer

optimizer = ArchitecturePromptOptimizer()

# æ–‡ç”Ÿå›¾ä¼˜åŒ–
result = optimizer.optimize_text_to_image(
    raw_description="...",
    space_type="entrance",
    style_keywords=["æ–°ä¸­å¼"],
    color_scheme={"primary": "ç±³ç™½"},
    materials=["æœ¨é¥°é¢"],
    lighting="warm",
    view_angle="front_view"
)

# å›¾ç”Ÿå›¾ä¼˜åŒ–
result = optimizer.optimize_image_to_image(
    reference_description="...",
    keep_consistent=["é£æ ¼", "è‰²è°ƒ"],
    change_elements=["è§†è§’", "å…‰ç…§"],
    strength=0.65
)
```

### scripts/api_client.py

æ•´åˆNano Banana APIè°ƒç”¨å’Œæ‰¹é‡å¤„ç†çš„ç»Ÿä¸€å®¢æˆ·ç«¯ã€‚

**åŠŸèƒ½**:
- å•å¼ å›¾åƒç”Ÿæˆ (æ–‡ç”Ÿå›¾/å›¾ç”Ÿå›¾)
- æ‰¹é‡åºåˆ—ç”Ÿæˆ
- é…ç½®æ–‡ä»¶é©±åŠ¨
- è‡ªåŠ¨é‡è¯•å’Œé”™è¯¯å¤„ç†
- ç»“æœä¿å­˜å’Œæ—¥å¿—è®°å½•

**è°ƒç”¨æ–¹å¼**:
```bash
# æ–‡ç”Ÿå›¾
python scripts/api_client.py generate \
    --prompt "ä¼˜åŒ–åçš„æç¤ºè¯..." \
    --aspect-ratio "16:9" \
    --output output/é¡¹ç›®å/

# å›¾ç”Ÿå›¾
python scripts/api_client.py generate \
    --reference reference.png \
    --prompt "ä¼˜åŒ–åçš„æç¤ºè¯..." \
    --strength 0.65 \
    --output output/é¡¹ç›®å/

# æ‰¹é‡é…ç½®æ–‡ä»¶
python scripts/api_client.py batch --config config.json
```

### scripts/nano-banana-base.py

APIå®¢æˆ·ç«¯åŸºç¡€æ¨¡æ¿,æä¾›åº•å±‚APIè°ƒç”¨èƒ½åŠ›ã€‚

**åŠŸèƒ½**:
- OpenRouter APIå°è£…
- å›¾åƒbase64è½¬æ¢
- è¯·æ±‚æ„å»ºå’Œå“åº”å¤„ç†
- é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

**é€‚ç”¨åœºæ™¯**: éœ€è¦è‡ªå®šä¹‰APIè°ƒç”¨é€»è¾‘æ—¶ä½¿ç”¨

### scripts/nano-banana-execute.py

åŸºäºæ‰§è¡Œè®¡åˆ’çš„æ‰¹é‡å¤„ç†å¼•æ“ã€‚

**åŠŸèƒ½**:
- è¯»å–JSONæ‰§è¡Œè®¡åˆ’
- æ‰¹æ¬¡ç®¡ç†å’Œå¹¶å‘æ§åˆ¶
- Checkpointæ–­ç‚¹ç»­ä¼ 
- æ‰§è¡Œæ—¥å¿—å’Œå…ƒæ•°æ®ç”Ÿæˆ

**è°ƒç”¨æ–¹å¼**:
```bash
python scripts/nano-banana-execute.py --plan api/nano-banana/my-plan.json
```

## âš™ï¸ æç¤ºè¯ä¼˜åŒ–æœ€ä½³å®è·µ

### 8å…ƒç´ æ ‡å‡†æç¤ºè¯ç»“æ„

**ç­¹å»ºç»„å»ºç­‘æ‘„å½±æ ‡å‡†**:

```
[1.ç©ºé—´ç±»å‹] + [2.é£æ ¼å…³é”®è¯] + [3.ç©ºé—´æè¿°] +
[4.è‰²å½©æ–¹æ¡ˆ] + [5.æè´¨çº¹ç†] + [6.å…‰ç…§æ°›å›´] +
[7.è§†è§’æ„å›¾] + [8.è´¨é‡æ ‡ç­¾]
```

**ç¤ºä¾‹: æ–°ä¸­å¼ç«é”…åº—å…¥å£**:
```
entrance reception area, welcoming lobby,          // [1.ç©ºé—´ç±»å‹]
æ–°ä¸­å¼é£æ ¼, å¯¹ç§°å¸ƒå±€, æ¸©é¦¨é›…è‡´,                    // [2.é£æ ¼å…³é”®è¯]
ç±³ç™½è‰²å¢™é¢é…èƒ¡æ¡ƒæœ¨è‰²æœ¨é¥°é¢, å¤å…¸æ ¼æ …å±é£,          // [3.ç©ºé—´æè¿°]
ç±³ç™½è‰² as primary color, èƒ¡æ¡ƒæœ¨è‰² as secondary,   // [4.è‰²å½©æ–¹æ¡ˆ]
æœ¨é¥°é¢å¢™æ¿, ä»¿å¤åœ°ç –, å®æœ¨æ ¼æ …,                    // [5.æè´¨çº¹ç†]
warm ambient lighting, golden hour glow,           // [6.å…‰ç…§æ°›å›´]
eye level front shot, symmetrical composition,     // [7.è§†è§’æ„å›¾]
architectural photography, photorealistic, 8K      // [8.è´¨é‡æ ‡ç­¾]
```

### å»ºç­‘æ‘„å½±ä¸“ä¸šæœ¯è¯­åº“

**è´¨é‡æ ‡ç­¾** (Quality Tags):
```
architectural photography, photorealistic, 8K resolution,
ultra high detail, professional rendering, sharp focus,
hyper realistic, HDR lighting
```

**è§†è§’æœ¯è¯­** (Camera Angles):
```
- æ­£é¢è§†å›¾: eye level front shot, symmetrical composition
- ä¾§é¢è§†å›¾: 45-degree angle view, dynamic perspective
- é¸Ÿç°è§†å›¾: bird's eye view, overhead perspective
- è§’è½è§†å›¾: corner perspective, two-point perspective
- å¹¿è§’è§†å›¾: ultra wide angle lens, 16mm, expansive view
```

**å…‰ç…§æœ¯è¯­** (Lighting):
```
- æ¸©æš–: warm ambient lighting, golden hour glow, soft shadows
- å†·è‰²: cool daylight, bright natural light, clean shadows
- æˆå‰§: dramatic lighting, high contrast, cinematic mood
- æŸ”å’Œ: soft diffused light, gentle shadows, cozy atmosphere
- è‡ªç„¶: natural daylight, floor-to-ceiling windows, bright and airy
```

**æè´¨æœ¯è¯­** (Materials):
```
- æœ¨æ: oak flooring, walnut wood panel, natural wood grain
- çŸ³æ: marble countertop, granite flooring, travertine wall
- é‡‘å±: brushed steel, polished brass, industrial iron
- ç»ç’ƒ: floor-to-ceiling glass, transparent partition, frosted glass
- æ··å‡åœŸ: polished concrete floor, exposed concrete wall
```

### è´Ÿé¢æç¤ºè¯æ ‡å‡†

```
blurry, low quality, noise, distorted, warped,
cartoon style, anime style, sketch, watercolor,
text, watermark, signature,
over-decorated, cluttered, crowded,
äººç‰© (é»˜è®¤ä¸åŒ…å«äººç‰©,é™¤éç‰¹åˆ«éœ€è¦)
```

### æç¤ºè¯å­—æ•°æ§åˆ¶

**æ¨èé•¿åº¦**: â‰¤400å­—ç¬¦

**åŸå› **:
- Stable Diffusion XLæ¨èé•¿åº¦
- ä¿æŒæç¤ºè¯ç®€æ´æœ‰æ•ˆ
- é¿å…tokenè¶…é™
- æå‡ç”Ÿæˆé€Ÿåº¦

**ä¼˜åŒ–å™¨è‡ªåŠ¨å¤„ç†**:
- æ™ºèƒ½æˆªæ–­è‡³æœ€å¤§é•¿åº¦
- åœ¨é€—å·å¤„æˆªæ–­,ä¿æŒå¥å­å®Œæ•´
- ä¼˜å…ˆä¿ç•™æ ¸å¿ƒå…ƒç´ (ç©ºé—´ç±»å‹ã€é£æ ¼ã€è´¨é‡æ ‡ç­¾)

## ğŸš¨ æ³¨æ„äº‹é¡¹

### æç¤ºè¯ä¼˜åŒ–æ³¨æ„äº‹é¡¹

1. **å‰ç½®ä¼˜åŒ–æ˜¯æ ¸å¿ƒæµç¨‹** â­
   - æ‰€æœ‰ç©ºé—´è®¾è®¡å›¾ç”Ÿæˆå‰,**å¿…é¡»**å…ˆä½¿ç”¨æç¤ºè¯ä¼˜åŒ–å™¨
   - ç›´æ¥ä½¿ç”¨åŸå§‹éœ€æ±‚æè¿°ä¼šå¯¼è‡´è´¨é‡ä¸ç¨³å®š
   - ä¼˜åŒ–å™¨æ•´åˆäº†å»ºç­‘æ‘„å½±æœ€ä½³å®è·µå’Œä¸“ä¸šæœ¯è¯­

2. **å»ºç­‘æ‘„å½±é£æ ¼å®šä½**
   - å¼ºè°ƒç©ºé—´è´¨æ„Ÿã€å…‰å½±å±‚æ¬¡ã€æè´¨ç»†èŠ‚
   - ä½¿ç”¨ä¸“ä¸šå»ºç­‘æ‘„å½±æœ¯è¯­(camera angles, lighting)
   - è¿½æ±‚é«˜æ¸…å†™å®æ„Ÿ(8K, photorealistic, ultra detail)

3. **æ„å›¾ç¾å­¦åŸåˆ™**
   - å¯¹ç§°æ„å›¾: é€‚åˆæ­£é¢è§†å›¾(å…¥å£ã€åŒ…é—´)
   - é€è§†æ„å›¾: é€‚åˆç©ºé—´æ·±åº¦å±•ç¤º(å°±é¤åŒºã€èµ°å»Š)
   - å¹¿è§’æ„å›¾: é€‚åˆå¤§ç©ºé—´å…¨æ™¯(æ•´ä½“é¸Ÿç°)

4. **ç©ºé—´ç¾å­¦åŸåˆ™**
   - åŠŸèƒ½åˆç†: ç©ºé—´å¸ƒå±€ç¬¦åˆé¤é¥®åŠ¨çº¿
   - å°ºåº¦é€‚å½“: å®¶å…·æ¯”ä¾‹ã€å±‚é«˜ã€é€šé“å®½åº¦
   - æ°›å›´åˆ°ä½: å…‰ç…§ã€è‰²å½©ã€æè´¨åè°ƒç»Ÿä¸€

### æ–‡ç”Ÿå›¾æ³¨æ„äº‹é¡¹

1. **é£æ ¼ä¸€è‡´æ€§**
   - æ‰€æœ‰åœºæ™¯ä½¿ç”¨ç»Ÿä¸€çš„style_keywords
   - è‰²å½©æ–¹æ¡ˆ(color_scheme)ä¿æŒä¸€è‡´
   - æè´¨(materials)é£æ ¼ç»Ÿä¸€

2. **è§†è§’é€‰æ‹©**
   - å…¥å£/æ”¶é“¶: front_view (æ­£é¢è§†å›¾,å¯¹ç§°)
   - å°±é¤åŒº: wide_angle (å¹¿è§’,å±•ç°ç©ºé—´)
   - åŒ…é—´: corner_view (è§’è½é€è§†,å±•ç°ç»†èŠ‚)
   - é¸Ÿç°: aerial_view (æ•´ä½“å¸ƒå±€)

3. **å…‰ç…§æ°›å›´**
   - warm: é€‚åˆæ¸©é¦¨åœºæ™¯(åŒ…é—´ã€ä¼‘æ¯åŒº)
   - natural: é€‚åˆæ˜äº®åœºæ™¯(å°±é¤åŒºã€å…¥å£)
   - dramatic: é€‚åˆç‰¹è‰²åœºæ™¯(é…’å§ã€å¤œæ™¯)

### å›¾ç”Ÿå›¾æ³¨æ„äº‹é¡¹

1. **keep_consistentç²¾å‡†å®šä¹‰**
   - å¿…é¡»æ˜ç¡®åˆ—å‡ºä¿æŒä¸å˜çš„å…ƒç´ 
   - è‡³å°‘åŒ…å«: é£æ ¼ã€è‰²è°ƒã€ä¸»è¦æè´¨
   - å…ƒç´ æè¿°è¦å…·ä½“(å¦‚"ç±³ç™½è‰²å¢™é¢"è€Œé"å¢™é¢")

2. **change_elementsæ¸…æ™°æè¿°**
   - é¿å…ä¸keep_consistentå†²çª
   - ä¸€æ¬¡å˜åŒ–ä¸è¦å¤ªå¤š(å»ºè®®1-3ä¸ªå…ƒç´ )
   - å˜åŒ–æè¿°è¦å…·ä½“(å¦‚"è§†è§’ä»æ­£é¢æ”¹ä¸º45åº¦ä¾§é¢")

3. **strengthå¼ºåº¦æ§åˆ¶**
   - 0.4-0.5: è½»å¾®å˜åŒ–(å…‰ç…§ã€ç»†èŠ‚)
   - 0.6-0.7: ä¸­ç­‰å˜åŒ–(è§†è§’ã€å±€éƒ¨è°ƒæ•´)
   - 0.75-0.8: è¾ƒå¤§å˜åŒ–(ç©ºé—´å…ƒç´ ã€æ„å›¾)

4. **å‚è€ƒä¸»å›¾è´¨é‡**
   - åˆ†è¾¨ç‡è‡³å°‘512x512
   - æ¸…æ™°ã€æ— æ¨¡ç³Š
   - æ–‡ä»¶å¤§å°<10MB

### æˆæœ¬é¢„ä¼°

- **æ¯å¼ å›¾çº¦5ç§¯åˆ†** (OpenRouterè®¡è´¹)
- æ‰¹é‡ç”Ÿæˆå‰é¢„ä¼°æ€»æˆæœ¬
- è¶…é¢„ç®—æ—¶ä¼šè¯·æ±‚ç¡®è®¤

## ğŸ“Š æ€§èƒ½å‚è€ƒ

- **ç”Ÿæˆé€Ÿåº¦**: 16.5ç§’/å¼ (å¹³å‡)
- **æˆåŠŸç‡**: 100% (åŸºäºE5å®æµ‹)
- **è´¨é‡è¯„åˆ†**: â­â­â­â­â­ 5/5
- **å»ºç­‘æ‘„å½±è´¨æ„Ÿ**: â‰¥95%
- **æç¤ºè¯ä¼˜åŒ–è€—æ—¶**: <1ç§’

## ğŸ“– å»¶ä¼¸é˜…è¯»

- **[Z2-ç©ºé—´è®¾è®¡å¸ˆ Agent](../../agents/Z2-ç©ºé—´è®¾è®¡å¸ˆ.md)** - é…åˆä½¿ç”¨çš„æ™ºèƒ½ä½“
- **[é€šä¹‰ä¸‡ç›¸](../Wan/SKILL.md)** - å›¾åƒç”Ÿæˆçš„å¦ä¸€é€‰æ‹©
- **[ä¸‰å±‚æ¶æ„APIè§„èŒƒ](../../../../.claude/agents/system/Api-Creator.md)** - æ¶æ„è®¾è®¡å‚è€ƒ

---

**ç‰ˆæœ¬**: 3.0.0 (ç­¹å»ºç»„å»ºç­‘ç©ºé—´è®¾è®¡ä¸“ç‰ˆ)
**æ›´æ–°æ—¥æœŸ**: 2025-10-31
**çŠ¶æ€**: âœ… æ–°å¢æç¤ºè¯ä¼˜åŒ–å™¨,æ˜ç¡®ç­¹å»ºç»„å®šä½
**æ ¸å¿ƒå˜æ›´**:
- é‡æ–°å®šä½ä¸ºå»ºç­‘ç©ºé—´è®¾è®¡ä¸“ç”¨æŠ€èƒ½åŒ…
- æ–°å¢å»ºç­‘æ‘„å½±çº§æç¤ºè¯ä¼˜åŒ–å™¨
- æ•´åˆæ–‡ç”Ÿå›¾+å›¾ç”Ÿå›¾ä¸¤å¤§æ¨¡å¼
- å¼ºåŒ–å»ºç­‘ç¾å­¦ã€ç©ºé—´ç¾å­¦ã€æ‘„å½±ç¾å­¦
